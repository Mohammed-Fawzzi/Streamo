import{r as o,j as e,B as n}from"./index-DJDkUetk.js";import j from"./Loading-BO08Y2UT.js";import{u as v,a as g}from"./UseMovies-DhQ6a_Yj.js";import{a as N}from"./UseVideos-BZcCJa1f.js";import{H as b}from"./Helmet-B3P1AbD-.js";import"./logo-De9ptU1J.js";import"./axios-Dq6H6Kdy.js";const L=()=>{const[t,r]=o.useState(null),[a,c]=o.useState("");let{data:d,isLoading:m,isError:h,error:u}=v("Movies",g);const x=async s=>{try{const l=(await N(s)).data.results.find(f=>f.type==="Trailer");l?r(l):n.warn("No trailer available.",{autoClose:2e3})}catch{n.warn("No trailer available.",{autoClose:2e3})}};if(m)return e.jsx(j,{});if(h)return e.jsxs("div",{className:"fw-bold my-5 py-5 text-white",children:["Error: ",u.message]});const i=d.filter(s=>s.original_title.toLowerCase().includes(a.toLowerCase()));return e.jsxs("div",{className:"text-white my-5 py-4",children:[e.jsxs(b,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Movies"})]}),e.jsxs("div",{className:"container d-flex justify-content-between align-items-center my-2",children:[e.jsx("h3",{children:"All Movies"}),e.jsx("input",{type:"text",className:"form-control search-input rounded-0 border-0 mb-2",placeholder:"Search for a movie...",value:a,onChange:s=>c(s.target.value)})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row g-4",children:i.length>0?i.map(s=>e.jsxs("div",{className:"col-md-3 position-relative movie-card",children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/original${s.poster_path}`,alt:s.title,className:"img-fluid pb-2",loading:"lazy"}),e.jsxs("div",{className:"movie-info",children:[e.jsx("p",{className:"movie-title text-center fw-bold",children:s.original_title}),e.jsxs("p",{children:["â­ ",s.vote_average," / 10"]}),e.jsxs("p",{children:["ðŸ—³ï¸ ",s.vote_count," Votes"]}),e.jsxs("button",{className:"btn btn-danger rounded-0",onClick:()=>x(s.id),children:[e.jsx("i",{className:"fa-solid fa-video"})," Watch Trailer"]})]})]},s.id)):e.jsxs("p",{className:"text-center",children:['No movies found for "',a,'".']})})}),t&&e.jsxs("div",{className:"video-modal",children:[e.jsx("iframe",{width:"560",height:"315",src:`https://www.youtube.com/embed/${t.key}`,title:t.name,allowFullScreen:!0}),e.jsx("button",{className:"btn btn-outline-danger rounded-0",onClick:()=>r(null),children:"X"})]})]})};export{L as default};
