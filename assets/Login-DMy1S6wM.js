import{u as N,r as t,U as b,j as e}from"./index-wVCkWmHb.js";import{H as w}from"./Helmet-CXZLVfOd.js";const P=()=>{const m=N(),{setName:u,setEmail:p,setPassword:x,setToken:g}=t.useContext(b),[r,l]=t.useState(""),[n,i]=t.useState(""),[d,o]=t.useState(""),h=s=>{s.preventDefault();const j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,v=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;if(!j.test(r)){o("Please enter a valid email.");return}if(!v.test(n)){o("Password must be at least 8 characters long and contain letters and numbers.");return}const a=(JSON.parse(localStorage.getItem("users"))||[]).find(c=>c.email===r&&c.password===n);a?(u(a.name),p(a.email),x(a.password),g("loginToken"),l(""),i(""),localStorage.setItem("userToken","loginToken"),m("/")):o("Invalid email or password. Please try again.")};return e.jsxs("div",{className:"mt-5 pt-3",children:[e.jsxs(w,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Login"})]}),e.jsxs("div",{className:"container text-white my-5 p-3 form-container",children:[e.jsx("h3",{className:"py-3",children:"Login Now:"}),e.jsx("div",{className:"row",children:e.jsxs("form",{onSubmit:h,children:[d&&e.jsx("div",{className:"alert alert-danger p-2",children:d}),e.jsxs("div",{className:"pb-3",children:[e.jsx("label",{className:"pb-1",htmlFor:"email",children:"Email:"}),e.jsx("input",{type:"text",id:"email",value:r,className:"form-control",onChange:s=>l(s.target.value)})]}),e.jsxs("div",{className:"pb-3",children:[e.jsx("label",{className:"pb-1",htmlFor:"password",children:"Password:"}),e.jsx("input",{type:"password",id:"password",value:n,className:"form-control",onChange:s=>i(s.target.value)})]}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-danger d-block ms-auto mt-3",type:"submit",children:"Login"})})]})})]})]})};export{P as default};
